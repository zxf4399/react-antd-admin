{"version":3,"file":".pnpm/react-markdown@8.0.2_@types+react@18.0.1+react@18.0.0/node_modules/react-markdown/lib.c31b86ffc30aec7c5aba.js","mappings":"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","sources":["webpack://tech-stack/./node_modules/.pnpm/react-markdown@8.0.2_@types+react@18.0.1+react@18.0.0/node_modules/react-markdown/lib/rehype-filter.js","webpack://tech-stack/./node_modules/.pnpm/react-markdown@8.0.2_@types+react@18.0.1+react@18.0.0/node_modules/react-markdown/lib/uri-transformer.js","webpack://tech-stack/./node_modules/.pnpm/react-markdown@8.0.2_@types+react@18.0.1+react@18.0.0/node_modules/react-markdown/lib/ast-to-react.js","webpack://tech-stack/./node_modules/.pnpm/react-markdown@8.0.2_@types+react@18.0.1+react@18.0.0/node_modules/react-markdown/lib/react-markdown.js"],"sourcesContent":["import {visit} from 'unist-util-visit'\n\n/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('hast').Root} Root\n * @typedef {import('hast').Element} Element\n *\n * @callback AllowElement\n * @param {Element} element\n * @param {number} index\n * @param {Element|Root} parent\n * @returns {boolean|undefined}\n *\n * @typedef Options\n * @property {Array<string>} [allowedElements]\n * @property {Array<string>} [disallowedElements=[]]\n * @property {AllowElement} [allowElement]\n * @property {boolean} [unwrapDisallowed=false]\n */\n\n/**\n * @type {import('unified').Plugin<[Options], Root>}\n */\nexport default function rehypeFilter(options) {\n  if (options.allowedElements && options.disallowedElements) {\n    throw new TypeError(\n      'Only one of `allowedElements` and `disallowedElements` should be defined'\n    )\n  }\n\n  if (\n    options.allowedElements ||\n    options.disallowedElements ||\n    options.allowElement\n  ) {\n    return (tree) => {\n      visit(tree, 'element', (node, index, parent_) => {\n        const parent = /** @type {Element|Root} */ (parent_)\n        /** @type {boolean|undefined} */\n        let remove\n\n        if (options.allowedElements) {\n          remove = !options.allowedElements.includes(node.tagName)\n        } else if (options.disallowedElements) {\n          remove = options.disallowedElements.includes(node.tagName)\n        }\n\n        if (!remove && options.allowElement && typeof index === 'number') {\n          remove = !options.allowElement(node, index, parent)\n        }\n\n        if (remove && typeof index === 'number') {\n          if (options.unwrapDisallowed && node.children) {\n            parent.children.splice(index, 1, ...node.children)\n          } else {\n            parent.children.splice(index, 1)\n          }\n\n          return index\n        }\n\n        return undefined\n      })\n    }\n  }\n}\n","const protocols = ['http', 'https', 'mailto', 'tel']\n\n/**\n * @param {string} uri\n * @returns {string}\n */\nexport function uriTransformer(uri) {\n  const url = (uri || '').trim()\n  const first = url.charAt(0)\n\n  if (first === '#' || first === '/') {\n    return url\n  }\n\n  const colon = url.indexOf(':')\n  if (colon === -1) {\n    return url\n  }\n\n  let index = -1\n\n  while (++index < protocols.length) {\n    const protocol = protocols[index]\n\n    if (\n      colon === protocol.length &&\n      url.slice(0, protocol.length).toLowerCase() === protocol\n    ) {\n      return url\n    }\n  }\n\n  index = url.indexOf('?')\n  if (index !== -1 && colon > index) {\n    return url\n  }\n\n  index = url.indexOf('#')\n  if (index !== -1 && colon > index) {\n    return url\n  }\n\n  // eslint-disable-next-line no-script-url\n  return 'javascript:void(0)'\n}\n","/**\n * @template T\n * @typedef {import('react').ComponentType<T>} ComponentType<T>\n */\n\n/**\n * @template T\n * @typedef {import('react').ComponentPropsWithoutRef<T>} ComponentPropsWithoutRef<T>\n */\n\n/**\n * @typedef {import('react').ReactNode} ReactNode\n * @typedef {import('unist').Position} Position\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n * @typedef {import('hast').Root} Root\n * @typedef {import('hast').Text} Text\n * @typedef {import('hast').Comment} Comment\n * @typedef {import('hast').DocType} Doctype\n * @typedef {import('property-information').Info} Info\n * @typedef {import('property-information').Schema} Schema\n * @typedef {import('./complex-types').ReactMarkdownProps} ReactMarkdownProps\n *\n * @typedef Raw\n * @property {'raw'} type\n * @property {string} value\n *\n * @typedef Context\n * @property {Options} options\n * @property {Schema} schema\n * @property {number} listDepth\n *\n * @callback TransformLink\n * @param {string} href\n * @param {Array<ElementContent>} children\n * @param {string?} title\n * @returns {string}\n *\n * @callback TransformImage\n * @param {string} src\n * @param {string} alt\n * @param {string?} title\n * @returns {string}\n *\n * @typedef {import('react').HTMLAttributeAnchorTarget} TransformLinkTargetType\n *\n * @callback TransformLinkTarget\n * @param {string} href\n * @param {Array<ElementContent>} children\n * @param {string?} title\n * @returns {TransformLinkTargetType|undefined}\n *\n * @typedef {keyof JSX.IntrinsicElements} ReactMarkdownNames\n *\n * To do: is `data-sourcepos` typeable?\n *\n * @typedef {ComponentPropsWithoutRef<'code'> & ReactMarkdownProps & {inline?: boolean}} CodeProps\n * @typedef {ComponentPropsWithoutRef<'h1'> & ReactMarkdownProps & {level: number}} HeadingProps\n * @typedef {ComponentPropsWithoutRef<'li'> & ReactMarkdownProps & {checked: boolean|null, index: number, ordered: boolean}} LiProps\n * @typedef {ComponentPropsWithoutRef<'ol'> & ReactMarkdownProps & {depth: number, ordered: true}} OrderedListProps\n * @typedef {ComponentPropsWithoutRef<'table'> & ReactMarkdownProps & {style?: Record<string, unknown>, isHeader: boolean}} TableCellProps\n * @typedef {ComponentPropsWithoutRef<'tr'> & ReactMarkdownProps & {isHeader: boolean}} TableRowProps\n * @typedef {ComponentPropsWithoutRef<'ul'> & ReactMarkdownProps & {depth: number, ordered: false}} UnorderedListProps\n *\n * @typedef {ComponentType<CodeProps>} CodeComponent\n * @typedef {ComponentType<HeadingProps>} HeadingComponent\n * @typedef {ComponentType<LiProps>} LiComponent\n * @typedef {ComponentType<OrderedListProps>} OrderedListComponent\n * @typedef {ComponentType<TableCellProps>} TableCellComponent\n * @typedef {ComponentType<TableRowProps>} TableRowComponent\n * @typedef {ComponentType<UnorderedListProps>} UnorderedListComponent\n *\n * @typedef SpecialComponents\n * @property {CodeComponent|ReactMarkdownNames} code\n * @property {HeadingComponent|ReactMarkdownNames} h1\n * @property {HeadingComponent|ReactMarkdownNames} h2\n * @property {HeadingComponent|ReactMarkdownNames} h3\n * @property {HeadingComponent|ReactMarkdownNames} h4\n * @property {HeadingComponent|ReactMarkdownNames} h5\n * @property {HeadingComponent|ReactMarkdownNames} h6\n * @property {LiComponent|ReactMarkdownNames} li\n * @property {OrderedListComponent|ReactMarkdownNames} ol\n * @property {TableCellComponent|ReactMarkdownNames} td\n * @property {TableCellComponent|ReactMarkdownNames} th\n * @property {TableRowComponent|ReactMarkdownNames} tr\n * @property {UnorderedListComponent|ReactMarkdownNames} ul\n *\n * @typedef {Partial<Omit<import('./complex-types').NormalComponents, keyof SpecialComponents> & SpecialComponents>} Components\n *\n * @typedef Options\n * @property {boolean} [sourcePos=false]\n * @property {boolean} [rawSourcePos=false]\n * @property {boolean} [skipHtml=false]\n * @property {boolean} [includeElementIndex=false]\n * @property {null|false|TransformLink} [transformLinkUri]\n * @property {TransformImage} [transformImageUri]\n * @property {TransformLinkTargetType|TransformLinkTarget} [linkTarget]\n * @property {Components} [components]\n */\n\nimport React from 'react'\nimport ReactIs from 'react-is'\nimport {whitespace} from 'hast-util-whitespace'\nimport {svg, find, hastToReact} from 'property-information'\nimport {stringify as spaces} from 'space-separated-tokens'\nimport {stringify as commas} from 'comma-separated-tokens'\nimport style from 'style-to-object'\n\nconst own = {}.hasOwnProperty\n\n// The table-related elements that must not contain whitespace text according\n// to React.\nconst tableElements = new Set(['table', 'thead', 'tbody', 'tfoot', 'tr'])\n\n/**\n * @param {Context} context\n * @param {Element|Root} node\n */\nexport function childrenToReact(context, node) {\n  /** @type {Array<ReactNode>} */\n  const children = []\n  let childIndex = -1\n  /** @type {Comment|Doctype|Element|Raw|Text} */\n  let child\n\n  while (++childIndex < node.children.length) {\n    child = node.children[childIndex]\n\n    if (child.type === 'element') {\n      children.push(toReact(context, child, childIndex, node))\n    } else if (child.type === 'text') {\n      // Currently, a warning is triggered by react for *any* white space in\n      // tables.\n      // So we drop it.\n      // See: <https://github.com/facebook/react/pull/7081>.\n      // See: <https://github.com/facebook/react/pull/7515>.\n      // See: <https://github.com/remarkjs/remark-react/issues/64>.\n      // See: <https://github.com/remarkjs/react-markdown/issues/576>.\n      if (\n        node.type !== 'element' ||\n        !tableElements.has(node.tagName) ||\n        !whitespace(child)\n      ) {\n        children.push(child.value)\n      }\n    } else if (child.type === 'raw' && !context.options.skipHtml) {\n      // Default behavior is to show (encoded) HTML.\n      children.push(child.value)\n    }\n  }\n\n  return children\n}\n\n/**\n * @param {Context} context\n * @param {Element} node\n * @param {number} index\n * @param {Element|Root} parent\n */\nfunction toReact(context, node, index, parent) {\n  const options = context.options\n  const parentSchema = context.schema\n  /** @type {ReactMarkdownNames} */\n  // @ts-expect-error assume a known HTML/SVG element.\n  const name = node.tagName\n  /** @type {Record<string, unknown>} */\n  const properties = {}\n  let schema = parentSchema\n  /** @type {string} */\n  let property\n\n  if (parentSchema.space === 'html' && name === 'svg') {\n    schema = svg\n    context.schema = schema\n  }\n\n  if (node.properties) {\n    for (property in node.properties) {\n      if (own.call(node.properties, property)) {\n        addProperty(properties, property, node.properties[property], context)\n      }\n    }\n  }\n\n  if (name === 'ol' || name === 'ul') {\n    context.listDepth++\n  }\n\n  const children = childrenToReact(context, node)\n\n  if (name === 'ol' || name === 'ul') {\n    context.listDepth--\n  }\n\n  // Restore parent schema.\n  context.schema = parentSchema\n\n  // Nodes created by plugins do not have positional info, in which case we use\n  // an object that matches the position interface.\n  const position = node.position || {\n    start: {line: null, column: null, offset: null},\n    end: {line: null, column: null, offset: null}\n  }\n  const component =\n    options.components && own.call(options.components, name)\n      ? options.components[name]\n      : name\n  const basic = typeof component === 'string' || component === React.Fragment\n\n  if (!ReactIs.isValidElementType(component)) {\n    throw new TypeError(\n      `Component for name \\`${name}\\` not defined or is not renderable`\n    )\n  }\n\n  properties.key = [\n    name,\n    position.start.line,\n    position.start.column,\n    index\n  ].join('-')\n\n  if (name === 'a' && options.linkTarget) {\n    properties.target =\n      typeof options.linkTarget === 'function'\n        ? options.linkTarget(\n            String(properties.href || ''),\n            node.children,\n            typeof properties.title === 'string' ? properties.title : null\n          )\n        : options.linkTarget\n  }\n\n  if (name === 'a' && options.transformLinkUri) {\n    properties.href = options.transformLinkUri(\n      String(properties.href || ''),\n      node.children,\n      typeof properties.title === 'string' ? properties.title : null\n    )\n  }\n\n  if (\n    !basic &&\n    name === 'code' &&\n    parent.type === 'element' &&\n    parent.tagName !== 'pre'\n  ) {\n    properties.inline = true\n  }\n\n  if (\n    !basic &&\n    (name === 'h1' ||\n      name === 'h2' ||\n      name === 'h3' ||\n      name === 'h4' ||\n      name === 'h5' ||\n      name === 'h6')\n  ) {\n    properties.level = Number.parseInt(name.charAt(1), 10)\n  }\n\n  if (name === 'img' && options.transformImageUri) {\n    properties.src = options.transformImageUri(\n      String(properties.src || ''),\n      String(properties.alt || ''),\n      typeof properties.title === 'string' ? properties.title : null\n    )\n  }\n\n  if (!basic && name === 'li' && parent.type === 'element') {\n    const input = getInputElement(node)\n    properties.checked =\n      input && input.properties ? Boolean(input.properties.checked) : null\n    properties.index = getElementsBeforeCount(parent, node)\n    properties.ordered = parent.tagName === 'ol'\n  }\n\n  if (!basic && (name === 'ol' || name === 'ul')) {\n    properties.ordered = name === 'ol'\n    properties.depth = context.listDepth\n  }\n\n  if (name === 'td' || name === 'th') {\n    if (properties.align) {\n      if (!properties.style) properties.style = {}\n      // @ts-expect-error assume `style` is an object\n      properties.style.textAlign = properties.align\n      delete properties.align\n    }\n\n    if (!basic) {\n      properties.isHeader = name === 'th'\n    }\n  }\n\n  if (!basic && name === 'tr' && parent.type === 'element') {\n    properties.isHeader = Boolean(parent.tagName === 'thead')\n  }\n\n  // If `sourcePos` is given, pass source information (line/column info from markdown source).\n  if (options.sourcePos) {\n    properties['data-sourcepos'] = flattenPosition(position)\n  }\n\n  if (!basic && options.rawSourcePos) {\n    properties.sourcePosition = node.position\n  }\n\n  // If `includeElementIndex` is given, pass node index info to components.\n  if (!basic && options.includeElementIndex) {\n    properties.index = getElementsBeforeCount(parent, node)\n    properties.siblingCount = getElementsBeforeCount(parent)\n  }\n\n  if (!basic) {\n    properties.node = node\n  }\n\n  // Ensure no React warnings are emitted for void elements w/ children.\n  return children.length > 0\n    ? React.createElement(component, properties, children)\n    : React.createElement(component, properties)\n}\n\n/**\n * @param {Element|Root} node\n * @returns {Element?}\n */\nfunction getInputElement(node) {\n  let index = -1\n\n  while (++index < node.children.length) {\n    const child = node.children[index]\n\n    if (child.type === 'element' && child.tagName === 'input') {\n      return child\n    }\n  }\n\n  return null\n}\n\n/**\n * @param {Element|Root} parent\n * @param {Element} [node]\n * @returns {number}\n */\nfunction getElementsBeforeCount(parent, node) {\n  let index = -1\n  let count = 0\n\n  while (++index < parent.children.length) {\n    if (parent.children[index] === node) break\n    if (parent.children[index].type === 'element') count++\n  }\n\n  return count\n}\n\n/**\n * @param {Record<string, unknown>} props\n * @param {string} prop\n * @param {unknown} value\n * @param {Context} ctx\n */\nfunction addProperty(props, prop, value, ctx) {\n  const info = find(ctx.schema, prop)\n  let result = value\n\n  // Ignore nullish and `NaN` values.\n  // eslint-disable-next-line no-self-compare\n  if (result === null || result === undefined || result !== result) {\n    return\n  }\n\n  // Accept `array`.\n  // Most props are space-separated.\n  if (Array.isArray(result)) {\n    result = info.commaSeparated ? commas(result) : spaces(result)\n  }\n\n  if (info.property === 'style' && typeof result === 'string') {\n    result = parseStyle(result)\n  }\n\n  if (info.space && info.property) {\n    props[\n      own.call(hastToReact, info.property)\n        ? hastToReact[info.property]\n        : info.property\n    ] = result\n  } else if (info.attribute) {\n    props[info.attribute] = result\n  }\n}\n\n/**\n * @param {string} value\n * @returns {Record<string, string>}\n */\nfunction parseStyle(value) {\n  /** @type {Record<string, string>} */\n  const result = {}\n\n  try {\n    style(value, iterator)\n  } catch {\n    // Silent.\n  }\n\n  return result\n\n  /**\n   * @param {string} name\n   * @param {string} v\n   */\n  function iterator(name, v) {\n    const k = name.slice(0, 4) === '-ms-' ? `ms-${name.slice(4)}` : name\n    result[k.replace(/-([a-z])/g, styleReplacer)] = v\n  }\n}\n\n/**\n * @param {unknown} _\n * @param {string} $1\n */\nfunction styleReplacer(_, $1) {\n  return $1.toUpperCase()\n}\n\n/**\n * @param {Position|{start: {line: null, column: null, offset: null}, end: {line: null, column: null, offset: null}}} pos\n * @returns {string}\n */\nfunction flattenPosition(pos) {\n  return [\n    pos.start.line,\n    ':',\n    pos.start.column,\n    '-',\n    pos.end.line,\n    ':',\n    pos.end.column\n  ]\n    .map((d) => String(d))\n    .join('')\n}\n","/**\n * @typedef {import('react').ReactNode} ReactNode\n * @typedef {import('react').ReactElement<{}>} ReactElement\n * @typedef {import('unified').PluggableList} PluggableList\n * @typedef {import('hast').Root} Root\n * @typedef {import('./rehype-filter.js').Options} FilterOptions\n * @typedef {import('./ast-to-react.js').Options} TransformOptions\n *\n * @typedef CoreOptions\n * @property {string} children\n *\n * @typedef PluginOptions\n * @property {PluggableList} [remarkPlugins=[]]\n * @property {PluggableList} [rehypePlugins=[]]\n * @property {import('remark-rehype').Options | undefined} [remarkRehypeOptions={}]\n *\n * @typedef LayoutOptions\n * @property {string} [className]\n *\n * @typedef {CoreOptions & PluginOptions & LayoutOptions & FilterOptions & TransformOptions} ReactMarkdownOptions\n *\n * @typedef Deprecation\n * @property {string} id\n * @property {string} [to]\n */\n\nimport React from 'react'\nimport {VFile} from 'vfile'\nimport {unified} from 'unified'\nimport remarkParse from 'remark-parse'\nimport remarkRehype from 'remark-rehype'\nimport PropTypes from 'prop-types'\nimport {html} from 'property-information'\nimport rehypeFilter from './rehype-filter.js'\nimport {uriTransformer} from './uri-transformer.js'\nimport {childrenToReact} from './ast-to-react.js'\n\nconst own = {}.hasOwnProperty\nconst changelog =\n  'https://github.com/remarkjs/react-markdown/blob/main/changelog.md'\n\n/** @type {Record<string, Deprecation>} */\nconst deprecated = {\n  plugins: {to: 'plugins', id: 'change-plugins-to-remarkplugins'},\n  renderers: {to: 'components', id: 'change-renderers-to-components'},\n  astPlugins: {id: 'remove-buggy-html-in-markdown-parser'},\n  allowDangerousHtml: {id: 'remove-buggy-html-in-markdown-parser'},\n  escapeHtml: {id: 'remove-buggy-html-in-markdown-parser'},\n  source: {to: 'children', id: 'change-source-to-children'},\n  allowNode: {\n    to: 'allowElement',\n    id: 'replace-allownode-allowedtypes-and-disallowedtypes'\n  },\n  allowedTypes: {\n    to: 'allowedElements',\n    id: 'replace-allownode-allowedtypes-and-disallowedtypes'\n  },\n  disallowedTypes: {\n    to: 'disallowedElements',\n    id: 'replace-allownode-allowedtypes-and-disallowedtypes'\n  },\n  includeNodeIndex: {\n    to: 'includeElementIndex',\n    id: 'change-includenodeindex-to-includeelementindex'\n  }\n}\n\n/**\n * React component to render markdown.\n *\n * @param {ReactMarkdownOptions} options\n * @returns {ReactElement}\n */\nexport function ReactMarkdown(options) {\n  for (const key in deprecated) {\n    if (own.call(deprecated, key) && own.call(options, key)) {\n      const deprecation = deprecated[key]\n      console.warn(\n        `[react-markdown] Warning: please ${\n          deprecation.to ? `use \\`${deprecation.to}\\` instead of` : 'remove'\n        } \\`${key}\\` (see <${changelog}#${deprecation.id}> for more info)`\n      )\n      delete deprecated[key]\n    }\n  }\n\n  const processor = unified()\n    .use(remarkParse)\n    .use(options.remarkPlugins || [])\n    .use(remarkRehype, {\n      ...options.remarkRehypeOptions,\n      allowDangerousHtml: true\n    })\n    .use(options.rehypePlugins || [])\n    .use(rehypeFilter, options)\n\n  const file = new VFile()\n\n  if (typeof options.children === 'string') {\n    file.value = options.children\n  } else if (options.children !== undefined && options.children !== null) {\n    console.warn(\n      `[react-markdown] Warning: please pass a string as \\`children\\` (not: \\`${options.children}\\`)`\n    )\n  }\n\n  const hastNode = processor.runSync(processor.parse(file), file)\n\n  if (hastNode.type !== 'root') {\n    throw new TypeError('Expected a `root` node')\n  }\n\n  /** @type {ReactElement} */\n  let result = React.createElement(\n    React.Fragment,\n    {},\n    childrenToReact({options, schema: html, listDepth: 0}, hastNode)\n  )\n\n  if (options.className) {\n    result = React.createElement('div', {className: options.className}, result)\n  }\n\n  return result\n}\n\nReactMarkdown.defaultProps = {transformLinkUri: uriTransformer}\n\nReactMarkdown.propTypes = {\n  // Core options:\n  children: PropTypes.string,\n  // Layout options:\n  className: PropTypes.string,\n  // Filter options:\n  allowElement: PropTypes.func,\n  allowedElements: PropTypes.arrayOf(PropTypes.string),\n  disallowedElements: PropTypes.arrayOf(PropTypes.string),\n  unwrapDisallowed: PropTypes.bool,\n  // Plugin options:\n  remarkPlugins: PropTypes.arrayOf(\n    PropTypes.oneOfType([\n      PropTypes.object,\n      PropTypes.func,\n      PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.object, PropTypes.func]))\n    ])\n  ),\n  rehypePlugins: PropTypes.arrayOf(\n    PropTypes.oneOfType([\n      PropTypes.object,\n      PropTypes.func,\n      PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.object, PropTypes.func]))\n    ])\n  ),\n  // Transform options:\n  sourcePos: PropTypes.bool,\n  rawSourcePos: PropTypes.bool,\n  skipHtml: PropTypes.bool,\n  includeElementIndex: PropTypes.bool,\n  transformLinkUri: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n  linkTarget: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  transformImageUri: PropTypes.func,\n  components: PropTypes.object\n}\n"],"names":["rehypeFilter","options","allowedElements","disallowedElements","TypeError","allowElement","tree","node","index","parent_","parent","remove","includes","tagName","unwrapDisallowed","children","splice","protocols","own","hasOwnProperty","tableElements","Set","childrenToReact","context","child","childIndex","length","type","push","toReact","has","value","skipHtml","parentSchema","schema","name","properties","property","space","call","addProperty","listDepth","position","start","line","column","offset","end","component","components","basic","key","join","linkTarget","target","String","href","title","transformLinkUri","inline","level","Number","parseInt","charAt","transformImageUri","src","alt","input","getInputElement","checked","Boolean","getElementsBeforeCount","ordered","pos","depth","align","style","textAlign","isHeader","sourcePos","map","d","rawSourcePos","sourcePosition","includeElementIndex","siblingCount","count","props","prop","ctx","info","find","result","Array","isArray","commaSeparated","v","k","slice","replace","styleReplacer","parseStyle","attribute","_","$1","toUpperCase","deprecated","plugins","to","id","renderers","astPlugins","allowDangerousHtml","escapeHtml","source","allowNode","allowedTypes","disallowedTypes","includeNodeIndex","ReactMarkdown","deprecation","console","warn","processor","use","remarkPlugins","remarkRehypeOptions","rehypePlugins","file","undefined","hastNode","runSync","parse","className","defaultProps","uri","url","trim","first","colon","indexOf","protocol","toLowerCase","propTypes"],"sourceRoot":""}