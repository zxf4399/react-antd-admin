"use strict";(self.webpackChunktech_stack=self.webpackChunktech_stack||[]).push([[6431],{9748:function(e,n,t){t.d(n,{Z:function(){return R}});var r=t(2182),i=t(1004),o=t(6099),a=t(6926),u=t(5170),c=t(5746),s=t(9803),l=t.n(s),f=t(1469),m=t(2642);function v(e){var n=e.prefixCls,t=e.visible,o=e.zIndex,a=e.mask,c=e.maskMotion,s=e.maskAnimation,v=e.maskTransitionName;if(!a)return null;var d={};return(c||v||s)&&(d=(0,i.Z)({motionAppear:!0},(0,m.g)({motion:c,prefixCls:n,transitionName:v,animation:s}))),u.createElement(f.Z,(0,r.Z)({},d,{visible:t,removeOnLeave:!0}),(function(e){var t=e.className;return u.createElement("div",{style:{zIndex:o},className:l()("".concat(n,"-mask"),t)})}))}var d=t(790),p=t(3738),h=t.n(p),Z=t(6872),E=t(7738),g=t(9341),b=["measure","align",null,"motion"],N=u.forwardRef((function(e,n){var t=e.visible,a=e.prefixCls,c=e.className,s=e.style,v=e.children,p=e.zIndex,N=e.stretch,w=e.destroyPopupOnHide,x=e.forceRender,k=e.align,y=e.point,C=e.getRootDomNode,R=e.getClassNameFromAlign,A=e.onAlign,I=e.onMouseEnter,M=e.onMouseLeave,O=e.onMouseDown,P=e.onTouchStart,z=(0,u.useRef)(),S=(0,u.useRef)(),H=(0,u.useState)(),L=(0,o.Z)(H,2),W=L[0],D=L[1],T=function(e){var n=u.useState({width:0,height:0}),t=(0,o.Z)(n,2),r=t[0],i=t[1];return[u.useMemo((function(){var n={};if(e){var t=r.width,i=r.height;-1!==e.indexOf("height")&&i?n.height=i:-1!==e.indexOf("minHeight")&&i&&(n.minHeight=i),-1!==e.indexOf("width")&&t?n.width=t:-1!==e.indexOf("minWidth")&&t&&(n.minWidth=t)}return n}),[e,r]),function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(N),_=(0,o.Z)(T,2),F=_[0],j=_[1],q=function(e,n){var t=(0,g.Z)(null),r=(0,o.Z)(t,2),i=r[0],a=r[1],c=(0,u.useRef)();function s(e){a(e,!0)}function l(){E.Z.cancel(c.current)}return(0,u.useEffect)((function(){s("measure")}),[e]),(0,u.useEffect)((function(){"measure"===i&&(N&&j(C())),i&&(c.current=(0,E.Z)((0,Z.Z)(h().mark((function e(){var n,t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=b.indexOf(i),(t=b[n+1])&&-1!==n&&s(t);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,u.useEffect)((function(){return function(){l()}}),[]),[i,function(e){l(),c.current=(0,E.Z)((function(){s((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null==e||e()}))}]}(t),B=(0,o.Z)(q,2),G=B[0],J=B[1],K=(0,u.useRef)();function Q(){var e;null===(e=z.current)||void 0===e||e.forceAlign()}function U(e,n){var t=R(n);W!==t&&D(t),"align"===G&&(W!==t?Promise.resolve().then((function(){Q()})):J((function(){var e;null===(e=K.current)||void 0===e||e.call(K)})),null==A||A(e,n))}var V=(0,i.Z)({},(0,m.g)(e));function X(){return new Promise((function(e){K.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var n=V[e];V[e]=function(e,t){return J(),null==n?void 0:n(e,t)}})),u.useEffect((function(){V.motionName||"motion"!==G||J()}),[V.motionName,G]),u.useImperativeHandle(n,(function(){return{forceAlign:Q,getElement:function(){return S.current}}}));var Y=(0,i.Z)((0,i.Z)({},F),{},{zIndex:p,opacity:"motion"!==G&&"stable"!==G&&t?0:void 0,pointerEvents:"stable"===G?void 0:"none"},s),$=!0;!(null==k?void 0:k.points)||"align"!==G&&"stable"!==G||($=!1);var ee=v;return u.Children.count(v)>1&&(ee=u.createElement("div",{className:"".concat(a,"-content")},v)),u.createElement(f.Z,(0,r.Z)({visible:t,ref:S,leavedClassName:"".concat(a,"-hidden")},V,{onAppearPrepare:X,onEnterPrepare:X,removeOnLeave:w,forceRender:x}),(function(e,n){var t=e.className,r=e.style,o=l()(a,c,W,t);return u.createElement(d.Z,{target:y||C,key:"popup",ref:z,monitorWindowResize:!0,disabled:$,align:k,onAlign:U},u.createElement("div",{ref:n,className:o,onMouseEnter:I,onMouseLeave:M,onMouseDownCapture:O,onTouchStartCapture:P,style:(0,i.Z)((0,i.Z)({},r),Y)},ee))}))}));N.displayName="PopupInner";var w=N,x=u.forwardRef((function(e,n){var t=e.prefixCls,o=e.visible,a=e.zIndex,c=e.children,s=e.mobile,m=(s=void 0===s?{}:s).popupClassName,v=s.popupStyle,d=s.popupMotion,p=void 0===d?{}:d,h=s.popupRender,Z=u.useRef();u.useImperativeHandle(n,(function(){return{forceAlign:function(){},getElement:function(){return Z.current}}}));var E=(0,i.Z)({zIndex:a},v),g=c;return u.Children.count(c)>1&&(g=u.createElement("div",{className:"".concat(t,"-content")},c)),h&&(g=h(g)),u.createElement(f.Z,(0,r.Z)({visible:o,ref:Z,removeOnLeave:!0},p),(function(e,n){var r=e.className,o=e.style,a=l()(t,m,r);return u.createElement("div",{ref:n,className:a,style:(0,i.Z)((0,i.Z)({},o),E)},g)}))}));x.displayName="MobilePopupInner";var k=x,y=["visible","mobile"],C=u.forwardRef((function(e,n){var t=e.visible,s=e.mobile,l=(0,a.Z)(e,y),f=(0,u.useState)(t),m=(0,o.Z)(f,2),d=m[0],p=m[1],h=(0,u.useState)(!1),Z=(0,o.Z)(h,2),E=Z[0],g=Z[1],b=(0,i.Z)((0,i.Z)({},l),{},{visible:d});(0,u.useEffect)((function(){p(t),t&&s&&g((0,c.Z)())}),[t,s]);var N=E?u.createElement(k,(0,r.Z)({},b,{mobile:s,ref:n})):u.createElement(w,(0,r.Z)({},b,{ref:n}));return u.createElement("div",null,u.createElement(v,b),N)}));C.displayName="Popup";var R=C}}]);
//# sourceMappingURL=Popup.e62ea7c883e4293ee095.js.map