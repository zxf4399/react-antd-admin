{"version":3,"file":".pnpm/rc-menu@9.3.2_react-dom@17.0.2+react@17.0.2/node_modules/rc-menu/es/hooks.40d41bfc77eb8913dca8.js","mappings":"0NAOIA,EAAO,SACPC,EAAQ,UACRC,EAAK,OACLC,EAAO,SACPC,EAAQ,UACRC,EAAM,QACNC,EAAO,SACPC,EAAM,QACNC,EAAY,CAACN,EAAIC,EAAMH,EAAMC,GAkGjC,SAASQ,EAAqBC,EAAWC,GAEvC,OADW,QAAiBD,GAAW,GAC3BE,QAAO,SAAUC,GAC3B,OAAOF,EAASG,IAAID,MAIxB,SAASE,EAAoBC,EAAsBL,EAAUM,GAC3D,IAAIC,EAASC,UAAUC,OAAS,QAAsBC,IAAjBF,UAAU,GAAmBA,UAAU,GAAK,EAGjF,IAAKH,EACH,OAAO,KAIT,IAAIM,EAAoCb,EAAqBO,EAAsBL,GAE/EY,EAAQD,EAAkCF,OAC1CI,EAAaF,EAAkCG,WAAU,SAAUZ,GACrE,OAAOI,IAAqBJ,KAe9B,OAZIK,EAAS,GACS,IAAhBM,EACFA,EAAaD,EAAQ,EAErBC,GAAc,EAEPN,EAAS,IAClBM,GAAc,GAKTF,EAFPE,GAAcA,EAAaD,GAASA,GAKvB,SAASG,EAAiBC,EAAMC,EAAWC,EAAOC,EAAIC,EAAcC,EAASC,EAAYC,EAAkBC,EAA0BC,GAClJ,IAAIC,EAAS,WACTC,EAAY,WAChBA,EAAUC,QAAUX,EAEpB,IAAIY,EAAW,WACb,WAAWH,EAAOE,UAQpB,OALA,aAAgB,WACd,OAAO,WACLC,OAED,IACI,SAAUC,GACf,IAAIC,EAAQD,EAAEC,MAEd,GAAI,GAAGC,OAAOnC,EAAW,CAACJ,EAAOC,EAAKC,EAAMC,IAAMqC,SAASF,GAAQ,CAEjE,IAAI/B,EACAkC,EACAC,EAEAC,EAAkB,WAcpB,OAbApC,EAAW,IAAIqC,IACfH,EAAc,IAAII,IAClBH,EAAc,IAAIG,IACPjB,IACNkB,SAAQ,SAAUC,GACrB,IAAIC,EAAUC,SAASC,cAAc,kBAAkBX,QAAO,QAAUb,EAAIqB,GAAM,OAE9EC,IACFzC,EAAS4C,IAAIH,GACbN,EAAYU,IAAIJ,EAASD,GACzBN,EAAYW,IAAIL,EAAKC,OAGlBzC,GAGToC,IAEA,IACI9B,EAnGV,SAAyBwC,EAAe9C,GAGtC,IAFA,IAAI4B,EAAUkB,GAAiBJ,SAASI,cAEjClB,GAAS,CACd,GAAI5B,EAASG,IAAIyB,GACf,OAAOA,EAGTA,EAAUA,EAAQmB,cAGpB,OAAO,KAwFoBC,CADHd,EAAYe,IAAIhC,GACkBjB,GAClDkD,EAAef,EAAYc,IAAI3C,GAC/B6C,EAnLV,SAAmBnC,EAAMoC,EAAalC,EAAOa,GAC3C,IAAIsB,EAASC,EAAaC,EAAWC,EAEjCC,EAAO,OACPC,EAAO,OACPC,EAAW,WACXC,EAAS,SAEb,GAAa,WAAT5C,GAAqBe,IAAUtC,EACjC,MAAO,CACLoE,eAAe,GAInB,IAAIC,GAAUT,EAAU,IAAI,OAAgBA,EAAS9D,EAAIkE,IAAO,OAAgBJ,EAAS7D,EAAMkE,GAAOL,GAClGU,GAAcT,EAAc,IAAI,OAAgBA,EAAajE,EAAM6B,EAAQwC,EAAOD,IAAO,OAAgBH,EAAahE,EAAO4B,EAAQuC,EAAOC,IAAO,OAAgBJ,EAAa9D,EAAMmE,IAAW,OAAgBL,EAAa7D,EAAOkE,GAAWL,GAChPU,GAAYT,EAAY,IAAI,OAAgBA,EAAWhE,EAAIkE,IAAO,OAAgBF,EAAW/D,EAAMkE,IAAO,OAAgBH,EAAW9D,EAAOkE,IAAW,OAAgBJ,EAAW7D,EAAKkE,IAAS,OAAgBL,EAAWlE,EAAM6B,EAAQyC,EAAWC,IAAS,OAAgBL,EAAWjE,EAAO4B,EAAQ0C,EAASD,GAAWJ,GAW/T,OAFuF,QAA3EC,EARE,CACZM,OAAQA,EACRC,WAAYA,EACZC,SAAUA,EACVC,UAAWH,EACXI,cAAeF,EACfG,YAAaH,GAEiB,GAAGhC,OAAOhB,GAAMgB,OAAOoB,EAAc,GAAK,eAAmC,IAAdI,OAAuB,EAASA,EAAUzB,IAGvI,KAAK0B,EACH,MAAO,CACLlD,QAAS,EACT6D,SAAS,GAGb,KAAKV,EACH,MAAO,CACLnD,OAAQ,EACR6D,SAAS,GAGb,KAAKR,EACH,MAAO,CACLrD,QAAS,EACT6D,SAAS,GAGb,KAAKT,EACH,MAAO,CACLpD,OAAQ,EACR6D,SAAS,GAGb,QACE,OAAO,MA8HSC,CAAUrD,EAAgD,IAA1CM,EAAW4B,GAAc,GAAMzC,OAAcS,EAAOa,GAEpF,IAAKoB,GAAapB,IAAUpC,GAAQoC,IAAUnC,EAC5C,QAIEC,EAAUoC,SAASF,IAAU,CAACpC,EAAMC,GAAKqC,SAASF,KACpDD,EAAEwC,iBAGJ,IAAIC,EAAW,SAAkBC,GAC/B,GAAIA,EAAa,CACf,IAAIC,EAAqBD,EAErBE,EAAOF,EAAY7B,cAAc,MAEjC+B,MAAAA,OAAmC,EAASA,EAAKC,aAAa,WAChEF,EAAqBC,GAGvB,IAAIE,EAAYzC,EAAYc,IAAIuB,GAChCjD,EAAiBqD,GAOjB/C,IACAH,EAAOE,SAAU,QAAI,WACfD,EAAUC,UAAYgD,GACxBH,EAAmBI,aAM3B,GAAI,CAAClF,EAAMC,GAAKqC,SAASF,IAAUoB,EAAUiB,UAAY9D,EAAkB,CAGzE,IAAID,EASAyE,EACAC,EAAoBjF,EALtBO,EAHGC,GAA6B,WAATU,EArKjC,SAAyByB,GAGvB,IAFA,IAAIb,EAAUa,EAEPb,GAAS,CACd,GAAIA,EAAQ+C,aAAa,kBACvB,OAAO/C,EAGTA,EAAUA,EAAQmB,cAMpB,OAAO,KA0JwBiC,CAAgB1E,GAFhBc,EAAaQ,QAO6B5B,GAGjE8E,EADE/C,IAAUpC,EACIoF,EAAkB,GACzBhD,IAAUnC,EACHmF,EAAkBA,EAAkBtE,OAAS,GAE7CL,EAAoBC,EAAsBL,EAAUM,EAAkB6C,EAAU5C,QAIlGgE,EAASO,QACJ,GAAI3B,EAAUU,cAEnBrC,EAAyB0B,QACpB,GAAIC,EAAU5C,OAAS,EAC5BiB,EAAyB0B,GAAc,GACvCrB,IACAH,EAAOE,SAAU,QAAI,WAEnBQ,IACA,IAAI6C,EAAY3E,EAAiBqE,aAAa,iBAG1CG,EAAgB1E,EAFIsC,SAASwC,eAAeD,GAEWjF,GAE3DuE,EAASO,KACR,QACE,GAAI3B,EAAU5C,OAAS,EAAG,CAC/B,IAAI4E,EAAU7D,EAAW4B,GAAc,GACnCkC,EAAYD,EAAQA,EAAQ1E,OAAS,GACrC4E,EAAoBnD,EAAYe,IAAImC,GAExC5D,EAAyB4D,GAAW,GACpCb,EAASc,IAKb5D,MAAAA,GAAkEA,EAAgBK,M,6EC5RvE,SAASwD,EAAUC,EAAUC,EAAUC,EAAcC,GAClE,IAAIC,EAAoB,aAAiB,KACrC1E,EAAY0E,EAAkB1E,UAC9B2E,EAAWD,EAAkBC,SAC7BC,EAAaF,EAAkBE,WAE/BC,EAAM,CACRC,OAAQ9E,IAAcsE,GAqBxB,OAlBKC,IACHM,EAAIL,aAAe,SAAUO,GAC3BP,MAAAA,GAA4DA,EAAa,CACvEjD,IAAK+C,EACLS,SAAUA,IAEZJ,EAASL,IAGXO,EAAIJ,aAAe,SAAUM,GAC3BN,MAAAA,GAA4DA,EAAa,CACvElD,IAAK+C,EACLS,SAAUA,IAEZH,EAAWN,KAIRO,I,6EC5BM,SAASG,EAAkBC,GACxC,IAAIP,EAAoB,aAAiB,KACrC3E,EAAO2E,EAAkB3E,KACzBmF,EAAMR,EAAkBQ,IACxBC,EAAeT,EAAkBS,aAErC,MAAa,WAATpF,EACK,KAIFmF,EAAM,CACXE,aAFQH,EAEYE,GAClB,CACFE,YAJQJ,EAIWE,K,iICVnBG,EAAa,yBAEbC,EAAa,SAAoBrB,GACnC,OAAOA,EAAQsB,KAAKF,IAOXG,EAAe,eACX,SAASC,IACtB,IAAIC,EAAkB,WAAe,IAEjCC,GADmB,OAAeD,EAAiB,GACZ,GAEvCE,GAAc,IAAAC,QAAO,IAAIzE,KACzB0E,GAAc,IAAAD,QAAO,IAAIzE,KAEzB2E,EAAmB,WAAe,IAClCC,GAAmB,OAAeD,EAAkB,GACpDE,EAAeD,EAAiB,GAChCE,EAAkBF,EAAiB,GAEnCG,GAAY,IAAAN,QAAO,GACnBO,GAAa,IAAAP,SAAO,GAQpBQ,GAAe,IAAAC,cAAY,SAAUhF,EAAK2C,GAO5C,IAAIsC,EAAgBjB,EAAWrB,GAC/B6B,EAAYpF,QAAQiB,IAAI4E,EAAejF,GACvCsE,EAAYlF,QAAQiB,IAAIL,EAAKiF,GAC7BJ,EAAUzF,SAAW,EACrB,IAAIT,EAAKkG,EAAUzF,SACnB,QAAU,WACJT,IAAOkG,EAAUzF,UAlBlB0F,EAAW1F,SACdiF,EAAoB,UAqBrB,IACCa,GAAiB,IAAAF,cAAY,SAAUhF,EAAK2C,GAC9C,IAAIsC,EAAgBjB,EAAWrB,GAC/B6B,EAAYpF,QAAQ+F,OAAOF,GAC3BX,EAAYlF,QAAQ+F,OAAOnF,KAC1B,IACCoF,GAAsB,IAAAJ,cAAY,SAAUK,GAC9CT,EAAgBS,KACf,IACCvG,GAAa,IAAAkG,cAAY,SAAUjC,EAAUuC,GAC/C,IACID,GADWf,EAAYlF,QAAQqB,IAAIsC,IAAa,IArDpCwC,MAAMxB,GA4DtB,OAJIuB,GAAmBX,EAAalF,SAAS4F,EAAK,KAChDA,EAAKG,QAAQtB,GAGRmB,IACN,CAACV,IACAc,GAAe,IAAAT,cAAY,SAAUU,EAAU3C,GACjD,OAAO2C,EAASC,MAAK,SAAUC,GAE7B,OADkB9G,EAAW8G,GAAS,GACnBnG,SAASsD,QAE7B,CAACjE,IAgBA+G,GAAiB,IAAAb,cAAY,SAAUhF,GACzC,IAAIiF,EAAgB,GAAGzF,OAAO8E,EAAYlF,QAAQqB,IAAIT,IAAMR,OAAOuE,GAC/D2B,EAAW,IAAI7F,IAQnB,OANA,OAAmB2E,EAAYpF,QAAQiG,QAAQtF,SAAQ,SAAU6F,GAC3DA,EAAQE,WAAWb,IACrBS,EAAStF,IAAIoE,EAAYpF,QAAQqB,IAAImF,OAIlCF,IACN,IAMH,OALA,aAAgB,WACd,OAAO,WACLZ,EAAW1F,SAAU,KAEtB,IACI,CAEL2F,aAAcA,EACdG,eAAgBA,EAChBE,oBAAqBA,EAErBK,aAAcA,EACd3G,WAAYA,EACZD,QAvCY,WACZ,IAAIwG,GAAO,OAAmBf,EAAYlF,QAAQiG,QAMlD,OAJIV,EAAa1G,QACfoH,EAAKU,KAAK7B,GAGLmB,GAiCPQ,eAAgBA,K,mECpHL,SAASG,EAAgBC,GACtC,IAAIC,EAAS,SAAaD,GAC1BC,EAAO9G,QAAU6G,EACjB,IAAIE,EAAW,eAAkB,WAG/B,IAFA,IAAIC,EAEKC,EAAOrI,UAAUC,OAAQqI,EAAO,IAAIC,MAAMF,GAAOG,EAAO,EAAGA,EAAOH,EAAMG,IAC/EF,EAAKE,GAAQxI,UAAUwI,GAGzB,OAA8C,QAAtCJ,EAAkBF,EAAO9G,eAAyC,IAApBgH,OAA6B,EAASA,EAAgBK,KAAKC,MAAMN,EAAiB,CAACF,GAAQ1G,OAAO8G,MACvJ,IACH,OAAOL,EAAOE,OAAWjI,I,uFCfvByI,EAAeC,KAAKC,SAASC,QAAQ,GAAGC,WAAWC,MAAM,GACzDC,EAAa,EACF,SAASC,EAAQvI,GAC9B,IAAIwI,GAAkB,OAAexI,EAAI,CACvCyI,MAAOzI,IAEL0I,GAAmB,OAAeF,EAAiB,GACnDG,EAAOD,EAAiB,GACxBE,EAAUF,EAAiB,GAO/B,OALA,aAAgB,WACdJ,GAAc,EACd,IAAIO,EAAmD,GAAGhI,OAAOmH,EAAc,KAAKnH,OAAOyH,GAC3FM,EAAQ,gBAAgB/H,OAAOgI,MAC9B,IACIF","sources":["webpack://react-antd-admin/./node_modules/.pnpm/rc-menu@9.3.2_react-dom@17.0.2+react@17.0.2/node_modules/rc-menu/es/hooks/useAccessibility.js","webpack://react-antd-admin/./node_modules/.pnpm/rc-menu@9.3.2_react-dom@17.0.2+react@17.0.2/node_modules/rc-menu/es/hooks/useActive.js","webpack://react-antd-admin/./node_modules/.pnpm/rc-menu@9.3.2_react-dom@17.0.2+react@17.0.2/node_modules/rc-menu/es/hooks/useDirectionStyle.js","webpack://react-antd-admin/./node_modules/.pnpm/rc-menu@9.3.2_react-dom@17.0.2+react@17.0.2/node_modules/rc-menu/es/hooks/useKeyRecords.js","webpack://react-antd-admin/./node_modules/.pnpm/rc-menu@9.3.2_react-dom@17.0.2+react@17.0.2/node_modules/rc-menu/es/hooks/useMemoCallback.js","webpack://react-antd-admin/./node_modules/.pnpm/rc-menu@9.3.2_react-dom@17.0.2+react@17.0.2/node_modules/rc-menu/es/hooks/useUUID.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport raf from \"rc-util/es/raf\";\nimport { getFocusNodeList } from \"rc-util/es/Dom/focus\";\nimport { getMenuId } from '../context/IdContext'; // destruct to reduce minify size\n\nvar LEFT = KeyCode.LEFT,\n    RIGHT = KeyCode.RIGHT,\n    UP = KeyCode.UP,\n    DOWN = KeyCode.DOWN,\n    ENTER = KeyCode.ENTER,\n    ESC = KeyCode.ESC,\n    HOME = KeyCode.HOME,\n    END = KeyCode.END;\nvar ArrowKeys = [UP, DOWN, LEFT, RIGHT];\n\nfunction getOffset(mode, isRootLevel, isRtl, which) {\n  var _inline, _horizontal, _vertical, _offsets$;\n\n  var prev = 'prev';\n  var next = 'next';\n  var children = 'children';\n  var parent = 'parent'; // Inline enter is special that we use unique operation\n\n  if (mode === 'inline' && which === ENTER) {\n    return {\n      inlineTrigger: true\n    };\n  }\n\n  var inline = (_inline = {}, _defineProperty(_inline, UP, prev), _defineProperty(_inline, DOWN, next), _inline);\n  var horizontal = (_horizontal = {}, _defineProperty(_horizontal, LEFT, isRtl ? next : prev), _defineProperty(_horizontal, RIGHT, isRtl ? prev : next), _defineProperty(_horizontal, DOWN, children), _defineProperty(_horizontal, ENTER, children), _horizontal);\n  var vertical = (_vertical = {}, _defineProperty(_vertical, UP, prev), _defineProperty(_vertical, DOWN, next), _defineProperty(_vertical, ENTER, children), _defineProperty(_vertical, ESC, parent), _defineProperty(_vertical, LEFT, isRtl ? children : parent), _defineProperty(_vertical, RIGHT, isRtl ? parent : children), _vertical);\n  var offsets = {\n    inline: inline,\n    horizontal: horizontal,\n    vertical: vertical,\n    inlineSub: inline,\n    horizontalSub: vertical,\n    verticalSub: vertical\n  };\n  var type = (_offsets$ = offsets[\"\".concat(mode).concat(isRootLevel ? '' : 'Sub')]) === null || _offsets$ === void 0 ? void 0 : _offsets$[which];\n\n  switch (type) {\n    case prev:\n      return {\n        offset: -1,\n        sibling: true\n      };\n\n    case next:\n      return {\n        offset: 1,\n        sibling: true\n      };\n\n    case parent:\n      return {\n        offset: -1,\n        sibling: false\n      };\n\n    case children:\n      return {\n        offset: 1,\n        sibling: false\n      };\n\n    default:\n      return null;\n  }\n}\n\nfunction findContainerUL(element) {\n  var current = element;\n\n  while (current) {\n    if (current.getAttribute('data-menu-list')) {\n      return current;\n    }\n\n    current = current.parentElement;\n  } // Normally should not reach this line\n\n  /* istanbul ignore next */\n\n\n  return null;\n}\n/**\n * Find focused element within element set provided\n */\n\n\nfunction getFocusElement(activeElement, elements) {\n  var current = activeElement || document.activeElement;\n\n  while (current) {\n    if (elements.has(current)) {\n      return current;\n    }\n\n    current = current.parentElement;\n  }\n\n  return null;\n}\n/**\n * Get focusable elements from the element set under provided container\n */\n\n\nfunction getFocusableElements(container, elements) {\n  var list = getFocusNodeList(container, true);\n  return list.filter(function (ele) {\n    return elements.has(ele);\n  });\n}\n\nfunction getNextFocusElement(parentQueryContainer, elements, focusMenuElement) {\n  var offset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n\n  // Key on the menu item will not get validate parent container\n  if (!parentQueryContainer) {\n    return null;\n  } // List current level menu item elements\n\n\n  var sameLevelFocusableMenuElementList = getFocusableElements(parentQueryContainer, elements); // Find next focus index\n\n  var count = sameLevelFocusableMenuElementList.length;\n  var focusIndex = sameLevelFocusableMenuElementList.findIndex(function (ele) {\n    return focusMenuElement === ele;\n  });\n\n  if (offset < 0) {\n    if (focusIndex === -1) {\n      focusIndex = count - 1;\n    } else {\n      focusIndex -= 1;\n    }\n  } else if (offset > 0) {\n    focusIndex += 1;\n  }\n\n  focusIndex = (focusIndex + count) % count; // Focus menu item\n\n  return sameLevelFocusableMenuElementList[focusIndex];\n}\n\nexport default function useAccessibility(mode, activeKey, isRtl, id, containerRef, getKeys, getKeyPath, triggerActiveKey, triggerAccessibilityOpen, originOnKeyDown) {\n  var rafRef = React.useRef();\n  var activeRef = React.useRef();\n  activeRef.current = activeKey;\n\n  var cleanRaf = function cleanRaf() {\n    raf.cancel(rafRef.current);\n  };\n\n  React.useEffect(function () {\n    return function () {\n      cleanRaf();\n    };\n  }, []);\n  return function (e) {\n    var which = e.which;\n\n    if ([].concat(ArrowKeys, [ENTER, ESC, HOME, END]).includes(which)) {\n      // Convert key to elements\n      var elements;\n      var key2element;\n      var element2key; // >>> Wrap as function since we use raf for some case\n\n      var refreshElements = function refreshElements() {\n        elements = new Set();\n        key2element = new Map();\n        element2key = new Map();\n        var keys = getKeys();\n        keys.forEach(function (key) {\n          var element = document.querySelector(\"[data-menu-id='\".concat(getMenuId(id, key), \"']\"));\n\n          if (element) {\n            elements.add(element);\n            element2key.set(element, key);\n            key2element.set(key, element);\n          }\n        });\n        return elements;\n      };\n\n      refreshElements(); // First we should find current focused MenuItem/SubMenu element\n\n      var activeElement = key2element.get(activeKey);\n      var focusMenuElement = getFocusElement(activeElement, elements);\n      var focusMenuKey = element2key.get(focusMenuElement);\n      var offsetObj = getOffset(mode, getKeyPath(focusMenuKey, true).length === 1, isRtl, which); // Some mode do not have fully arrow operation like inline\n\n      if (!offsetObj && which !== HOME && which !== END) {\n        return;\n      } // Arrow prevent default to avoid page scroll\n\n\n      if (ArrowKeys.includes(which) || [HOME, END].includes(which)) {\n        e.preventDefault();\n      }\n\n      var tryFocus = function tryFocus(menuElement) {\n        if (menuElement) {\n          var focusTargetElement = menuElement; // Focus to link instead of menu item if possible\n\n          var link = menuElement.querySelector('a');\n\n          if (link === null || link === void 0 ? void 0 : link.getAttribute('href')) {\n            focusTargetElement = link;\n          }\n\n          var targetKey = element2key.get(menuElement);\n          triggerActiveKey(targetKey);\n          /**\n           * Do not `useEffect` here since `tryFocus` may trigger async\n           * which makes React sync update the `activeKey`\n           * that force render before `useRef` set the next activeKey\n           */\n\n          cleanRaf();\n          rafRef.current = raf(function () {\n            if (activeRef.current === targetKey) {\n              focusTargetElement.focus();\n            }\n          });\n        }\n      };\n\n      if ([HOME, END].includes(which) || offsetObj.sibling || !focusMenuElement) {\n        // ========================== Sibling ==========================\n        // Find walkable focus menu element container\n        var parentQueryContainer;\n\n        if (!focusMenuElement || mode === 'inline') {\n          parentQueryContainer = containerRef.current;\n        } else {\n          parentQueryContainer = findContainerUL(focusMenuElement);\n        } // Get next focus element\n\n\n        var targetElement;\n        var focusableElements = getFocusableElements(parentQueryContainer, elements);\n\n        if (which === HOME) {\n          targetElement = focusableElements[0];\n        } else if (which === END) {\n          targetElement = focusableElements[focusableElements.length - 1];\n        } else {\n          targetElement = getNextFocusElement(parentQueryContainer, elements, focusMenuElement, offsetObj.offset);\n        } // Focus menu item\n\n\n        tryFocus(targetElement); // ======================= InlineTrigger =======================\n      } else if (offsetObj.inlineTrigger) {\n        // Inline trigger no need switch to sub menu item\n        triggerAccessibilityOpen(focusMenuKey); // =========================== Level ===========================\n      } else if (offsetObj.offset > 0) {\n        triggerAccessibilityOpen(focusMenuKey, true);\n        cleanRaf();\n        rafRef.current = raf(function () {\n          // Async should resync elements\n          refreshElements();\n          var controlId = focusMenuElement.getAttribute('aria-controls');\n          var subQueryContainer = document.getElementById(controlId); // Get sub focusable menu item\n\n          var targetElement = getNextFocusElement(subQueryContainer, elements); // Focus menu item\n\n          tryFocus(targetElement);\n        }, 5);\n      } else if (offsetObj.offset < 0) {\n        var keyPath = getKeyPath(focusMenuKey, true);\n        var parentKey = keyPath[keyPath.length - 2];\n        var parentMenuElement = key2element.get(parentKey); // Focus menu item\n\n        triggerAccessibilityOpen(parentKey, false);\n        tryFocus(parentMenuElement);\n      }\n    } // Pass origin key down event\n\n\n    originOnKeyDown === null || originOnKeyDown === void 0 ? void 0 : originOnKeyDown(e);\n  };\n}","import * as React from 'react';\nimport { MenuContext } from '../context/MenuContext';\nexport default function useActive(eventKey, disabled, onMouseEnter, onMouseLeave) {\n  var _React$useContext = React.useContext(MenuContext),\n      activeKey = _React$useContext.activeKey,\n      onActive = _React$useContext.onActive,\n      onInactive = _React$useContext.onInactive;\n\n  var ret = {\n    active: activeKey === eventKey\n  }; // Skip when disabled\n\n  if (!disabled) {\n    ret.onMouseEnter = function (domEvent) {\n      onMouseEnter === null || onMouseEnter === void 0 ? void 0 : onMouseEnter({\n        key: eventKey,\n        domEvent: domEvent\n      });\n      onActive(eventKey);\n    };\n\n    ret.onMouseLeave = function (domEvent) {\n      onMouseLeave === null || onMouseLeave === void 0 ? void 0 : onMouseLeave({\n        key: eventKey,\n        domEvent: domEvent\n      });\n      onInactive(eventKey);\n    };\n  }\n\n  return ret;\n}","import * as React from 'react';\nimport { MenuContext } from '../context/MenuContext';\nexport default function useDirectionStyle(level) {\n  var _React$useContext = React.useContext(MenuContext),\n      mode = _React$useContext.mode,\n      rtl = _React$useContext.rtl,\n      inlineIndent = _React$useContext.inlineIndent;\n\n  if (mode !== 'inline') {\n    return null;\n  }\n\n  var len = level;\n  return rtl ? {\n    paddingRight: len * inlineIndent\n  } : {\n    paddingLeft: len * inlineIndent\n  };\n}","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useRef, useCallback } from 'react';\nimport warning from \"rc-util/es/warning\";\nimport { nextSlice } from '../utils/timeUtil';\nvar PATH_SPLIT = '__RC_UTIL_PATH_SPLIT__';\n\nvar getPathStr = function getPathStr(keyPath) {\n  return keyPath.join(PATH_SPLIT);\n};\n\nvar getPathKeys = function getPathKeys(keyPathStr) {\n  return keyPathStr.split(PATH_SPLIT);\n};\n\nexport var OVERFLOW_KEY = 'rc-menu-more';\nexport default function useKeyRecords() {\n  var _React$useState = React.useState({}),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      internalForceUpdate = _React$useState2[1];\n\n  var key2pathRef = useRef(new Map());\n  var path2keyRef = useRef(new Map());\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      overflowKeys = _React$useState4[0],\n      setOverflowKeys = _React$useState4[1];\n\n  var updateRef = useRef(0);\n  var destroyRef = useRef(false);\n\n  var forceUpdate = function forceUpdate() {\n    if (!destroyRef.current) {\n      internalForceUpdate({});\n    }\n  };\n\n  var registerPath = useCallback(function (key, keyPath) {\n    // Warning for invalidate or duplicated `key`\n    if (process.env.NODE_ENV !== 'production') {\n      warning(!key2pathRef.current.has(key), \"Duplicated key '\".concat(key, \"' used in Menu by path [\").concat(keyPath.join(' > '), \"]\"));\n    } // Fill map\n\n\n    var connectedPath = getPathStr(keyPath);\n    path2keyRef.current.set(connectedPath, key);\n    key2pathRef.current.set(key, connectedPath);\n    updateRef.current += 1;\n    var id = updateRef.current;\n    nextSlice(function () {\n      if (id === updateRef.current) {\n        forceUpdate();\n      }\n    });\n  }, []);\n  var unregisterPath = useCallback(function (key, keyPath) {\n    var connectedPath = getPathStr(keyPath);\n    path2keyRef.current.delete(connectedPath);\n    key2pathRef.current.delete(key);\n  }, []);\n  var refreshOverflowKeys = useCallback(function (keys) {\n    setOverflowKeys(keys);\n  }, []);\n  var getKeyPath = useCallback(function (eventKey, includeOverflow) {\n    var fullPath = key2pathRef.current.get(eventKey) || '';\n    var keys = getPathKeys(fullPath);\n\n    if (includeOverflow && overflowKeys.includes(keys[0])) {\n      keys.unshift(OVERFLOW_KEY);\n    }\n\n    return keys;\n  }, [overflowKeys]);\n  var isSubPathKey = useCallback(function (pathKeys, eventKey) {\n    return pathKeys.some(function (pathKey) {\n      var pathKeyList = getKeyPath(pathKey, true);\n      return pathKeyList.includes(eventKey);\n    });\n  }, [getKeyPath]);\n\n  var getKeys = function getKeys() {\n    var keys = _toConsumableArray(key2pathRef.current.keys());\n\n    if (overflowKeys.length) {\n      keys.push(OVERFLOW_KEY);\n    }\n\n    return keys;\n  };\n  /**\n   * Find current key related child path keys\n   */\n\n\n  var getSubPathKeys = useCallback(function (key) {\n    var connectedPath = \"\".concat(key2pathRef.current.get(key)).concat(PATH_SPLIT);\n    var pathKeys = new Set();\n\n    _toConsumableArray(path2keyRef.current.keys()).forEach(function (pathKey) {\n      if (pathKey.startsWith(connectedPath)) {\n        pathKeys.add(path2keyRef.current.get(pathKey));\n      }\n    });\n\n    return pathKeys;\n  }, []);\n  React.useEffect(function () {\n    return function () {\n      destroyRef.current = true;\n    };\n  }, []);\n  return {\n    // Register\n    registerPath: registerPath,\n    unregisterPath: unregisterPath,\n    refreshOverflowKeys: refreshOverflowKeys,\n    // Util\n    isSubPathKey: isSubPathKey,\n    getKeyPath: getKeyPath,\n    getKeys: getKeys,\n    getSubPathKeys: getSubPathKeys\n  };\n}","import * as React from 'react';\n/**\n * Cache callback function that always return same ref instead.\n * This is used for context optimization.\n */\n\nexport default function useMemoCallback(func) {\n  var funRef = React.useRef(func);\n  funRef.current = func;\n  var callback = React.useCallback(function () {\n    var _funRef$current;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return (_funRef$current = funRef.current) === null || _funRef$current === void 0 ? void 0 : _funRef$current.call.apply(_funRef$current, [funRef].concat(args));\n  }, []);\n  return func ? callback : undefined;\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nvar uniquePrefix = Math.random().toFixed(5).toString().slice(2);\nvar internalId = 0;\nexport default function useUUID(id) {\n  var _useMergedState = useMergedState(id, {\n    value: id\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      uuid = _useMergedState2[0],\n      setUUID = _useMergedState2[1];\n\n  React.useEffect(function () {\n    internalId += 1;\n    var newId = process.env.NODE_ENV === 'test' ? 'test' : \"\".concat(uniquePrefix, \"-\").concat(internalId);\n    setUUID(\"rc-menu-uuid-\".concat(newId));\n  }, []);\n  return uuid;\n}"],"names":["LEFT","RIGHT","UP","DOWN","ENTER","ESC","HOME","END","ArrowKeys","getFocusableElements","container","elements","filter","ele","has","getNextFocusElement","parentQueryContainer","focusMenuElement","offset","arguments","length","undefined","sameLevelFocusableMenuElementList","count","focusIndex","findIndex","useAccessibility","mode","activeKey","isRtl","id","containerRef","getKeys","getKeyPath","triggerActiveKey","triggerAccessibilityOpen","originOnKeyDown","rafRef","activeRef","current","cleanRaf","e","which","concat","includes","key2element","element2key","refreshElements","Set","Map","forEach","key","element","document","querySelector","add","set","activeElement","parentElement","getFocusElement","get","focusMenuKey","offsetObj","isRootLevel","_inline","_horizontal","_vertical","_offsets$","prev","next","children","parent","inlineTrigger","inline","horizontal","vertical","inlineSub","horizontalSub","verticalSub","sibling","getOffset","preventDefault","tryFocus","menuElement","focusTargetElement","link","getAttribute","targetKey","focus","targetElement","focusableElements","findContainerUL","controlId","getElementById","keyPath","parentKey","parentMenuElement","useActive","eventKey","disabled","onMouseEnter","onMouseLeave","_React$useContext","onActive","onInactive","ret","active","domEvent","useDirectionStyle","level","rtl","inlineIndent","paddingRight","paddingLeft","PATH_SPLIT","getPathStr","join","OVERFLOW_KEY","useKeyRecords","_React$useState","internalForceUpdate","key2pathRef","useRef","path2keyRef","_React$useState3","_React$useState4","overflowKeys","setOverflowKeys","updateRef","destroyRef","registerPath","useCallback","connectedPath","unregisterPath","delete","refreshOverflowKeys","keys","includeOverflow","split","unshift","isSubPathKey","pathKeys","some","pathKey","getSubPathKeys","startsWith","push","useMemoCallback","func","funRef","callback","_funRef$current","_len","args","Array","_key","call","apply","uniquePrefix","Math","random","toFixed","toString","slice","internalId","useUUID","_useMergedState","value","_useMergedState2","uuid","setUUID","newId"],"sourceRoot":""}