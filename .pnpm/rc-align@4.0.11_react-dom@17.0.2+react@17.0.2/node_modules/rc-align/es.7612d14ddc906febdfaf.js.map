{"version":3,"file":".pnpm/rc-align@4.0.11_react-dom@17.0.2+react@17.0.2/node_modules/rc-align/es.7612d14ddc906febdfaf.js","mappings":"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","sources":["webpack://react-antd-admin/./node_modules/.pnpm/rc-align@4.0.11_react-dom@17.0.2+react@17.0.2/node_modules/rc-align/es/util.js","webpack://react-antd-admin/./node_modules/.pnpm/rc-align@4.0.11_react-dom@17.0.2+react@17.0.2/node_modules/rc-align/es/Align.js","webpack://react-antd-admin/./node_modules/.pnpm/rc-align@4.0.11_react-dom@17.0.2+react@17.0.2/node_modules/rc-align/es/index.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport ResizeObserver from 'resize-observer-polyfill';\nimport contains from \"rc-util/es/Dom/contains\";\nexport function isSamePoint(prev, next) {\n  if (prev === next) return true;\n  if (!prev || !next) return false;\n\n  if ('pageX' in next && 'pageY' in next) {\n    return prev.pageX === next.pageX && prev.pageY === next.pageY;\n  }\n\n  if ('clientX' in next && 'clientY' in next) {\n    return prev.clientX === next.clientX && prev.clientY === next.clientY;\n  }\n\n  return false;\n}\nexport function restoreFocus(activeElement, container) {\n  // Focus back if is in the container\n  if (activeElement !== document.activeElement && contains(container, activeElement) && typeof activeElement.focus === 'function') {\n    activeElement.focus();\n  }\n}\nexport function monitorResize(element, callback) {\n  var prevWidth = null;\n  var prevHeight = null;\n\n  function onResize(_ref) {\n    var _ref2 = _slicedToArray(_ref, 1),\n        target = _ref2[0].target;\n\n    if (!document.documentElement.contains(target)) return;\n\n    var _target$getBoundingCl = target.getBoundingClientRect(),\n        width = _target$getBoundingCl.width,\n        height = _target$getBoundingCl.height;\n\n    var fixedWidth = Math.floor(width);\n    var fixedHeight = Math.floor(height);\n\n    if (prevWidth !== fixedWidth || prevHeight !== fixedHeight) {\n      // https://webkit.org/blog/9997/resizeobserver-in-webkit/\n      Promise.resolve().then(function () {\n        callback({\n          width: fixedWidth,\n          height: fixedHeight\n        });\n      });\n    }\n\n    prevWidth = fixedWidth;\n    prevHeight = fixedHeight;\n  }\n\n  var resizeObserver = new ResizeObserver(onResize);\n\n  if (element) {\n    resizeObserver.observe(element);\n  }\n\n  return function () {\n    resizeObserver.disconnect();\n  };\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\n\n/**\n * Removed props:\n *  - childrenProps\n */\nimport React from 'react';\nimport { composeRef } from \"rc-util/es/ref\";\nimport isVisible from \"rc-util/es/Dom/isVisible\";\nimport { alignElement, alignPoint } from 'dom-align';\nimport addEventListener from \"rc-util/es/Dom/addEventListener\";\nimport isEqual from 'lodash/isEqual';\nimport { isSamePoint, restoreFocus, monitorResize } from './util';\nimport useBuffer from './hooks/useBuffer';\n\nfunction getElement(func) {\n  if (typeof func !== 'function') return null;\n  return func();\n}\n\nfunction getPoint(point) {\n  if (_typeof(point) !== 'object' || !point) return null;\n  return point;\n}\n\nvar Align = function Align(_ref, ref) {\n  var children = _ref.children,\n      disabled = _ref.disabled,\n      target = _ref.target,\n      align = _ref.align,\n      onAlign = _ref.onAlign,\n      monitorWindowResize = _ref.monitorWindowResize,\n      _ref$monitorBufferTim = _ref.monitorBufferTime,\n      monitorBufferTime = _ref$monitorBufferTim === void 0 ? 0 : _ref$monitorBufferTim;\n  var cacheRef = React.useRef({});\n  var nodeRef = React.useRef();\n  var childNode = React.Children.only(children); // ===================== Align ======================\n  // We save the props here to avoid closure makes props ood\n\n  var forceAlignPropsRef = React.useRef({});\n  forceAlignPropsRef.current.disabled = disabled;\n  forceAlignPropsRef.current.target = target;\n  forceAlignPropsRef.current.align = align;\n  forceAlignPropsRef.current.onAlign = onAlign;\n\n  var _useBuffer = useBuffer(function () {\n    var _forceAlignPropsRef$c = forceAlignPropsRef.current,\n        latestDisabled = _forceAlignPropsRef$c.disabled,\n        latestTarget = _forceAlignPropsRef$c.target,\n        latestAlign = _forceAlignPropsRef$c.align,\n        latestOnAlign = _forceAlignPropsRef$c.onAlign;\n\n    if (!latestDisabled && latestTarget) {\n      var source = nodeRef.current;\n      var result;\n      var element = getElement(latestTarget);\n      var point = getPoint(latestTarget);\n      cacheRef.current.element = element;\n      cacheRef.current.point = point;\n      cacheRef.current.align = latestAlign; // IE lose focus after element realign\n      // We should record activeElement and restore later\n\n      // IE lose focus after element realign\n      // We should record activeElement and restore later\n      var _document = document,\n          activeElement = _document.activeElement; // We only align when element is visible\n\n      // We only align when element is visible\n      if (element && isVisible(element)) {\n        result = alignElement(source, element, latestAlign);\n      } else if (point) {\n        result = alignPoint(source, point, latestAlign);\n      }\n\n      restoreFocus(activeElement, source);\n\n      if (latestOnAlign && result) {\n        latestOnAlign(source, result);\n      }\n\n      return true;\n    }\n\n    return false;\n  }, monitorBufferTime),\n      _useBuffer2 = _slicedToArray(_useBuffer, 2),\n      _forceAlign = _useBuffer2[0],\n      cancelForceAlign = _useBuffer2[1]; // ===================== Effect =====================\n  // Listen for target updated\n\n\n  var resizeMonitor = React.useRef({\n    cancel: function cancel() {}\n  }); // Listen for source updated\n\n  var sourceResizeMonitor = React.useRef({\n    cancel: function cancel() {}\n  });\n  React.useEffect(function () {\n    var element = getElement(target);\n    var point = getPoint(target);\n\n    if (nodeRef.current !== sourceResizeMonitor.current.element) {\n      sourceResizeMonitor.current.cancel();\n      sourceResizeMonitor.current.element = nodeRef.current;\n      sourceResizeMonitor.current.cancel = monitorResize(nodeRef.current, _forceAlign);\n    }\n\n    if (cacheRef.current.element !== element || !isSamePoint(cacheRef.current.point, point) || !isEqual(cacheRef.current.align, align)) {\n      _forceAlign(); // Add resize observer\n\n\n      if (resizeMonitor.current.element !== element) {\n        resizeMonitor.current.cancel();\n        resizeMonitor.current.element = element;\n        resizeMonitor.current.cancel = monitorResize(element, _forceAlign);\n      }\n    }\n  }); // Listen for disabled change\n\n  React.useEffect(function () {\n    if (!disabled) {\n      _forceAlign();\n    } else {\n      cancelForceAlign();\n    }\n  }, [disabled]); // Listen for window resize\n\n  var winResizeRef = React.useRef(null);\n  React.useEffect(function () {\n    if (monitorWindowResize) {\n      if (!winResizeRef.current) {\n        winResizeRef.current = addEventListener(window, 'resize', _forceAlign);\n      }\n    } else if (winResizeRef.current) {\n      winResizeRef.current.remove();\n      winResizeRef.current = null;\n    }\n  }, [monitorWindowResize]); // Clear all if unmount\n\n  React.useEffect(function () {\n    return function () {\n      resizeMonitor.current.cancel();\n      sourceResizeMonitor.current.cancel();\n      if (winResizeRef.current) winResizeRef.current.remove();\n      cancelForceAlign();\n    };\n  }, []); // ====================== Ref =======================\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      forceAlign: function forceAlign() {\n        return _forceAlign(true);\n      }\n    };\n  }); // ===================== Render =====================\n\n  if ( /*#__PURE__*/React.isValidElement(childNode)) {\n    childNode = /*#__PURE__*/React.cloneElement(childNode, {\n      ref: composeRef(childNode.ref, nodeRef)\n    });\n  }\n\n  return childNode;\n};\n\nvar RcAlign = /*#__PURE__*/React.forwardRef(Align);\nRcAlign.displayName = 'Align';\nexport default RcAlign;","// export this package's api\nimport Align from './Align';\nexport default Align;"],"names":["monitorResize","element","callback","prevWidth","prevHeight","resizeObserver","_ref","target","document","documentElement","contains","_target$getBoundingCl","getBoundingClientRect","width","height","fixedWidth","Math","floor","fixedHeight","Promise","resolve","then","observe","disconnect","getElement","func","getPoint","point","Align","ref","children","disabled","align","onAlign","monitorWindowResize","_ref$monitorBufferTim","monitorBufferTime","cacheRef","nodeRef","childNode","forceAlignPropsRef","current","_useBuffer","useBuffer","_forceAlignPropsRef$c","latestDisabled","latestTarget","latestAlign","latestOnAlign","result","source","activeElement","isVisible","container","focus","restoreFocus","_useBuffer2","_forceAlign","cancelForceAlign","resizeMonitor","cancel","sourceResizeMonitor","prev","next","pageX","pageY","clientX","clientY","winResizeRef","addEventListener","window","remove","forceAlign","RcAlign","displayName"],"sourceRoot":""}