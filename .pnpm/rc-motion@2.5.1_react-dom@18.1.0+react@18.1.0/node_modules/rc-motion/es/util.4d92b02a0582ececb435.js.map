{"version":3,"file":".pnpm/rc-motion@2.5.1_react-dom@18.1.0+react@18.1.0/node_modules/rc-motion/es/util.4d92b02a0582ececb435.js","mappings":"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","sources":["webpack://tech-stack/./node_modules/.pnpm/rc-motion@2.5.1_react-dom@18.1.0+react@18.1.0/node_modules/rc-motion/es/util/diff.js","webpack://tech-stack/./node_modules/.pnpm/rc-motion@2.5.1_react-dom@18.1.0+react@18.1.0/node_modules/rc-motion/es/util/motion.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nexport var STATUS_ADD = 'add';\nexport var STATUS_KEEP = 'keep';\nexport var STATUS_REMOVE = 'remove';\nexport var STATUS_REMOVED = 'removed';\nexport function wrapKeyToObject(key) {\n  var keyObj;\n\n  if (key && _typeof(key) === 'object' && 'key' in key) {\n    keyObj = key;\n  } else {\n    keyObj = {\n      key: key\n    };\n  }\n\n  return _objectSpread(_objectSpread({}, keyObj), {}, {\n    key: String(keyObj.key)\n  });\n}\nexport function parseKeys() {\n  var keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return keys.map(wrapKeyToObject);\n}\nexport function diffKeys() {\n  var prevKeys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var currentKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var list = [];\n  var currentIndex = 0;\n  var currentLen = currentKeys.length;\n  var prevKeyObjects = parseKeys(prevKeys);\n  var currentKeyObjects = parseKeys(currentKeys); // Check prev keys to insert or keep\n\n  prevKeyObjects.forEach(function (keyObj) {\n    var hit = false;\n\n    for (var i = currentIndex; i < currentLen; i += 1) {\n      var currentKeyObj = currentKeyObjects[i];\n\n      if (currentKeyObj.key === keyObj.key) {\n        // New added keys should add before current key\n        if (currentIndex < i) {\n          list = list.concat(currentKeyObjects.slice(currentIndex, i).map(function (obj) {\n            return _objectSpread(_objectSpread({}, obj), {}, {\n              status: STATUS_ADD\n            });\n          }));\n          currentIndex = i;\n        }\n\n        list.push(_objectSpread(_objectSpread({}, currentKeyObj), {}, {\n          status: STATUS_KEEP\n        }));\n        currentIndex += 1;\n        hit = true;\n        break;\n      }\n    } // If not hit, it means key is removed\n\n\n    if (!hit) {\n      list.push(_objectSpread(_objectSpread({}, keyObj), {}, {\n        status: STATUS_REMOVE\n      }));\n    }\n  }); // Add rest to the list\n\n  if (currentIndex < currentLen) {\n    list = list.concat(currentKeyObjects.slice(currentIndex).map(function (obj) {\n      return _objectSpread(_objectSpread({}, obj), {}, {\n        status: STATUS_ADD\n      });\n    }));\n  }\n  /**\n   * Merge same key when it remove and add again:\n   *    [1 - add, 2 - keep, 1 - remove] -> [1 - keep, 2 - keep]\n   */\n\n\n  var keys = {};\n  list.forEach(function (_ref) {\n    var key = _ref.key;\n    keys[key] = (keys[key] || 0) + 1;\n  });\n  var duplicatedKeys = Object.keys(keys).filter(function (key) {\n    return keys[key] > 1;\n  });\n  duplicatedKeys.forEach(function (matchKey) {\n    // Remove `STATUS_REMOVE` node.\n    list = list.filter(function (_ref2) {\n      var key = _ref2.key,\n          status = _ref2.status;\n      return key !== matchKey || status !== STATUS_REMOVE;\n    }); // Update `STATUS_ADD` to `STATUS_KEEP`\n\n    list.forEach(function (node) {\n      if (node.key === matchKey) {\n        // eslint-disable-next-line no-param-reassign\n        node.status = STATUS_KEEP;\n      }\n    });\n  });\n  return list;\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport canUseDOM from \"rc-util/es/Dom/canUseDom\"; // ================= Transition =================\n// Event wrapper. Copy from react source code\n\nfunction makePrefixMap(styleProp, eventName) {\n  var prefixes = {};\n  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n  prefixes[\"Webkit\".concat(styleProp)] = \"webkit\".concat(eventName);\n  prefixes[\"Moz\".concat(styleProp)] = \"moz\".concat(eventName);\n  prefixes[\"ms\".concat(styleProp)] = \"MS\".concat(eventName);\n  prefixes[\"O\".concat(styleProp)] = \"o\".concat(eventName.toLowerCase());\n  return prefixes;\n}\n\nexport function getVendorPrefixes(domSupport, win) {\n  var prefixes = {\n    animationend: makePrefixMap('Animation', 'AnimationEnd'),\n    transitionend: makePrefixMap('Transition', 'TransitionEnd')\n  };\n\n  if (domSupport) {\n    if (!('AnimationEvent' in win)) {\n      delete prefixes.animationend.animation;\n    }\n\n    if (!('TransitionEvent' in win)) {\n      delete prefixes.transitionend.transition;\n    }\n  }\n\n  return prefixes;\n}\nvar vendorPrefixes = getVendorPrefixes(canUseDOM(), typeof window !== 'undefined' ? window : {});\nvar style = {};\n\nif (canUseDOM()) {\n  var _document$createEleme = document.createElement('div');\n\n  style = _document$createEleme.style;\n}\n\nvar prefixedEventNames = {};\nexport function getVendorPrefixedEventName(eventName) {\n  if (prefixedEventNames[eventName]) {\n    return prefixedEventNames[eventName];\n  }\n\n  var prefixMap = vendorPrefixes[eventName];\n\n  if (prefixMap) {\n    var stylePropList = Object.keys(prefixMap);\n    var len = stylePropList.length;\n\n    for (var i = 0; i < len; i += 1) {\n      var styleProp = stylePropList[i];\n\n      if (Object.prototype.hasOwnProperty.call(prefixMap, styleProp) && styleProp in style) {\n        prefixedEventNames[eventName] = prefixMap[styleProp];\n        return prefixedEventNames[eventName];\n      }\n    }\n  }\n\n  return '';\n}\nvar internalAnimationEndName = getVendorPrefixedEventName('animationend');\nvar internalTransitionEndName = getVendorPrefixedEventName('transitionend');\nexport var supportTransition = !!(internalAnimationEndName && internalTransitionEndName);\nexport var animationEndName = internalAnimationEndName || 'animationend';\nexport var transitionEndName = internalTransitionEndName || 'transitionend';\nexport function getTransitionName(transitionName, transitionType) {\n  if (!transitionName) return null;\n\n  if (_typeof(transitionName) === 'object') {\n    var type = transitionType.replace(/-\\w/g, function (match) {\n      return match[1].toUpperCase();\n    });\n    return transitionName[type];\n  }\n\n  return \"\".concat(transitionName, \"-\").concat(transitionType);\n}"],"names":["STATUS_ADD","STATUS_KEEP","STATUS_REMOVE","STATUS_REMOVED","wrapKeyToObject","key","keyObj","String","parseKeys","keys","arguments","length","undefined","map","diffKeys","prevKeys","currentKeys","list","currentIndex","currentLen","prevKeyObjects","currentKeyObjects","forEach","hit","i","currentKeyObj","concat","slice","obj","status","push","_ref","duplicatedKeys","Object","filter","matchKey","_ref2","node","makePrefixMap","styleProp","eventName","prefixes","toLowerCase","domSupport","win","vendorPrefixes","window","animationend","transitionend","animation","transition","style","_document$createEleme","document","createElement","prefixedEventNames","getVendorPrefixedEventName","prefixMap","stylePropList","len","prototype","hasOwnProperty","call","internalAnimationEndName","internalTransitionEndName","supportTransition","animationEndName","transitionEndName","getTransitionName","transitionName","transitionType","replace","match","toUpperCase"],"sourceRoot":""}