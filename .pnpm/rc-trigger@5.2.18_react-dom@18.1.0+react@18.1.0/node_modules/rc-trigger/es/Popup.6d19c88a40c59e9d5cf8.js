"use strict";(self.webpackChunktech_stack=self.webpackChunktech_stack||[]).push([[7195],{7654:function(e,n,t){t.d(n,{Z:function(){return A}});var r=t(2848),i=t(7072),o=t(3953),a=t(6943),u=t(3236),c=t(6025),s=t(9803),l=t.n(s),f=t(6332),m=t(5219);function v(e){var n=e.prefixCls,t=e.visible,o=e.zIndex,a=e.mask,c=e.maskMotion,s=e.maskAnimation,v=e.maskTransitionName;if(!a)return null;var d={};return(c||v||s)&&(d=(0,i.Z)({motionAppear:!0},(0,m.g)({motion:c,prefixCls:n,transitionName:v,animation:s}))),u.createElement(f.Z,(0,r.Z)({},d,{visible:t,removeOnLeave:!0}),(function(e){var t=e.className;return u.createElement("div",{style:{zIndex:o},className:l()("".concat(n,"-mask"),t)})}))}var d=t(3736),p=t(7244),Z=t(9960),h=t.n(Z),g=t(5386),E=t(8661),b=t(9613),N=["measure","alignPre","align",null,"motion"],w=u.forwardRef((function(e,n){var t=e.visible,a=e.prefixCls,c=e.className,s=e.style,v=e.children,Z=e.zIndex,w=e.stretch,x=e.destroyPopupOnHide,k=e.forceRender,y=e.align,C=e.point,R=e.getRootDomNode,A=e.getClassNameFromAlign,I=e.onAlign,M=e.onMouseEnter,O=e.onMouseLeave,P=e.onMouseDown,S=e.onTouchStart,z=(0,u.useRef)(),H=(0,u.useRef)(),L=(0,u.useState)(),W=(0,o.Z)(L,2),D=W[0],T=W[1],_=function(e){var n=u.useState({width:0,height:0}),t=(0,o.Z)(n,2),r=t[0],i=t[1];return[u.useMemo((function(){var n={};if(e){var t=r.width,i=r.height;-1!==e.indexOf("height")&&i?n.height=i:-1!==e.indexOf("minHeight")&&i&&(n.minHeight=i),-1!==e.indexOf("width")&&t?n.width=t:-1!==e.indexOf("minWidth")&&t&&(n.minWidth=t)}return n}),[e,r]),function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(w),F=(0,o.Z)(_,2),j=F[0],q=F[1],B=function(e,n){var t=(0,b.Z)(null),r=(0,o.Z)(t,2),i=r[0],a=r[1],c=(0,u.useRef)();function s(e){a(e,!0)}function l(){E.Z.cancel(c.current)}return(0,u.useEffect)((function(){s("measure")}),[e]),(0,u.useEffect)((function(){"measure"===i&&(w&&q(R())),i&&(c.current=(0,E.Z)((0,g.Z)(h().mark((function e(){var n,t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=N.indexOf(i),(t=N[n+1])&&-1!==n&&s(t);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,u.useEffect)((function(){return function(){l()}}),[]),[i,function(e){l(),c.current=(0,E.Z)((function(){s((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null==e||e()}))}]}(t),G=(0,o.Z)(B,2),J=G[0],K=G[1],Q=(0,u.useState)(0),U=(0,o.Z)(Q,2),V=U[0],X=U[1],Y=(0,u.useRef)();function $(){var e;null===(e=z.current)||void 0===e||e.forceAlign()}function ee(e,n){var t=A(n);D!==t&&T(t),X((function(e){return e+1})),"align"===J&&(null==I||I(e,n))}(0,p.Z)((function(){"alignPre"===J&&X(0)}),[J]),(0,p.Z)((function(){"align"===J&&(V<2?$():K((function(){var e;null===(e=Y.current)||void 0===e||e.call(Y)})))}),[V]);var ne=(0,i.Z)({},(0,m.g)(e));function te(){return new Promise((function(e){Y.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var n=ne[e];ne[e]=function(e,t){return K(),null==n?void 0:n(e,t)}})),u.useEffect((function(){ne.motionName||"motion"!==J||K()}),[ne.motionName,J]),u.useImperativeHandle(n,(function(){return{forceAlign:$,getElement:function(){return H.current}}}));var re=(0,i.Z)((0,i.Z)({},j),{},{zIndex:Z,opacity:"motion"!==J&&"stable"!==J&&t?0:void 0,pointerEvents:t||"stable"===J?void 0:"none"},s),ie=!0;!(null==y?void 0:y.points)||"align"!==J&&"stable"!==J||(ie=!1);var oe=v;return u.Children.count(v)>1&&(oe=u.createElement("div",{className:"".concat(a,"-content")},v)),u.createElement(f.Z,(0,r.Z)({visible:t,ref:H,leavedClassName:"".concat(a,"-hidden")},ne,{onAppearPrepare:te,onEnterPrepare:te,removeOnLeave:x,forceRender:k}),(function(e,n){var t=e.className,r=e.style,o=l()(a,c,D,t);return u.createElement(d.Z,{target:C||R,key:"popup",ref:z,monitorWindowResize:!0,disabled:ie,align:y,onAlign:ee},u.createElement("div",{ref:n,className:o,onMouseEnter:M,onMouseLeave:O,onMouseDownCapture:P,onTouchStartCapture:S,style:(0,i.Z)((0,i.Z)({},r),re)},oe))}))}));w.displayName="PopupInner";var x=w,k=u.forwardRef((function(e,n){var t=e.prefixCls,o=e.visible,a=e.zIndex,c=e.children,s=e.mobile,m=(s=void 0===s?{}:s).popupClassName,v=s.popupStyle,d=s.popupMotion,p=void 0===d?{}:d,Z=s.popupRender,h=u.useRef();u.useImperativeHandle(n,(function(){return{forceAlign:function(){},getElement:function(){return h.current}}}));var g=(0,i.Z)({zIndex:a},v),E=c;return u.Children.count(c)>1&&(E=u.createElement("div",{className:"".concat(t,"-content")},c)),Z&&(E=Z(E)),u.createElement(f.Z,(0,r.Z)({visible:o,ref:h,removeOnLeave:!0},p),(function(e,n){var r=e.className,o=e.style,a=l()(t,m,r);return u.createElement("div",{ref:n,className:a,style:(0,i.Z)((0,i.Z)({},o),g)},E)}))}));k.displayName="MobilePopupInner";var y=k,C=["visible","mobile"],R=u.forwardRef((function(e,n){var t=e.visible,s=e.mobile,l=(0,a.Z)(e,C),f=(0,u.useState)(t),m=(0,o.Z)(f,2),d=m[0],p=m[1],Z=(0,u.useState)(!1),h=(0,o.Z)(Z,2),g=h[0],E=h[1],b=(0,i.Z)((0,i.Z)({},l),{},{visible:d});(0,u.useEffect)((function(){p(t),t&&s&&E((0,c.Z)())}),[t,s]);var N=g?u.createElement(y,(0,r.Z)({},b,{mobile:s,ref:n})):u.createElement(x,(0,r.Z)({},b,{ref:n}));return u.createElement("div",null,u.createElement(v,b),N)}));R.displayName="Popup";var A=R}}]);
//# sourceMappingURL=Popup.6d19c88a40c59e9d5cf8.js.map